try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="79b6c507-9c9c-47a0-8572-8036a4d51a04",e._sentryDebugIdIdentifier="sentry-dbid-79b6c507-9c9c-47a0-8572-8036a4d51a04")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"2c82cb25a14a55e3572d801ec920e9674e6cbd36"};(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[75],{355:(e,t,a)=>{var o=a(574),s=a(5298),n=a(11436),i=a(25733),r=a(42891),c=a(46493),d=a(16536);const l="undefined"!=typeof window?window:{context:{}};let g=0;(0,d.Zv)({type:r.SG.type,effect:(e,{getState:t})=>{const a=t();l.context=(0,o.K)(a)}}),(0,d.Zv)({type:s.yc.type,effect:(e,{getState:t})=>{const a=t(),o=(0,s.K5)(a),r=(0,n.k4)(a),d={type:o,id:0,path:r};if("game"===o){const e=(0,s.Vv)(a);d.id=e.id}else if("category"===o){const e=(0,s.N2)(a);d.id=e.id}g>0&&window.updateSession&&window.updateSession(r,o,d.id);const l=(0,i.v)(),u={...window.context,page:d,session:l};window.context=u,g>0&&(0,c.F)({category:"pageview",options:{interaction:!0}}),g+=1}}),(0,d.Zv)({type:s.yc.type,effect:async(e,{delay:t,signal:a,cancelActiveListeners:o})=>{for(o();!a.aborted;)await t(3e4),(0,c.F)({category:"page",action:"pulse"})}})},822:(e,t,a)=>{a.d(t,{Ay:()=>L,Bb:()=>k,Hu:()=>S,QL:()=>x,Ri:()=>I,Se:()=>q,rf:()=>D,vK:()=>C});var o=a(20038),s=a(42891),n=a(5298),i=a(88421),r=a(91323),c=a(53210),d=a(46278),l=a(80382),g=a(46493),u=a(34931),p=a(16536);const y=`${(0,d.G6)()}/search/query`,f=`${(0,d.G6)()}/category`,h={content:[]},m={query:"",expanded:!1,results:h,pending:!1,error:!1,popularSearches:[],searchSessionId:0,quickSearchCategories:[],lastClosed:0},v=(e,t,a)=>({data:(0,l.rL)(e,t,a),score:a?.score||("game"===t?1:0)});function b({site:e,device:t,hits:a}){const o=function({site:e,device:t,hits:a}){const o=a?.categories?.map((t=>v(e,"category",t)))||[],s=a?.games?.map((t=>v(e,"game",t)))||[];return{categories:o,games:"mobile"===t?s.filter((e=>e.data.mobile)):s}}({site:e,device:t,hits:a}),s=[...o.categories.map((e=>({...e,category:!0}))),...o.games];return s.sort(((e,t)=>t.score-e.score)),"mobile"===t&&s.splice(50),s}function w({state:e,query:t,numberOfResults:a=0,isQuickCategorySearch:o=!1}){const s=(0,i.Ie)(e),r=(0,n.K5)(e),c=a>0?"success":"empty";(0,g.F)({category:"search",action:"results",label:r,data:{query:t,result:c,numberOfResults:a,searchSessionId:s,isQuickCategorySearch:o}})}const S=(0,o.zD)("search/fetchSearch",(async(e,t)=>{if(e.query.length<2)return{content:[],error:!1};const a=t.getState(),o=(0,r.Gd)(a),n=(0,s.xp)(a),i=(0,s.wu)(a),d=(0,c.p)(a),l=await fetch(`${y}/${o.id}?q=${encodeURIComponent(e.query)}&device=${n}&country=${i}${d?`&experiment=${d}`:""}`),g=await l.json();if(!g.categories.length&&!g.games.length)return w({state:a,query:e.query}),{content:[],error:!0};const u=b({site:o,device:n,hits:g});return w({state:a,query:e.query,numberOfResults:u.length}),{content:u,error:!1}})),C=(0,o.zD)("search/fetchSearchCategoryResults",(async(e,t)=>{if(!e)return{content:[]};const a=t.getState(),o=(0,r.Gd)(a),n=(0,s.xp)(a),i=(0,s.wu)(a),d=(0,c.p)(a),l=await fetch(`${f}/${encodeURIComponent(e)}?site=${o.id}&device=${n}&country=${i}${d?`&experiment=${d}`:""}`),g=await l.json(),u={categories:g.related_categories||[],games:g.games||[]};return w({state:a,query:e,numberOfResults:u.categories.length+u.games.length,isQuickCategorySearch:!0}),{content:b({site:o,device:n,hits:u})}})),_=(0,o.Z0)({name:"search",initialState:m,reducers:{closeSearch(e){e.expanded=!1,e.error=!1,e.pending=!1,e.results=h,e.lastClosed=Date.now()},openSearch(e){e.searchSessionId=(0,u.u)(),e.expanded=!0,e.query=""},setSearchQuery(e,t){e.query=t.payload.query},resetSearch(e){e.query="",e.results=h,e.pending=!1,e.error=!1},closeSearchIfOpen(e){e.expanded&&(e.expanded=!1,e.lastClosed=Date.now())}},extraReducers:e=>{e.addCase(S.pending,(e=>{e.pending=!0,e.error=!1,e.results=h})).addCase(S.fulfilled,((e,t)=>{e.pending=!1,e.error=t.payload.error,e.results=[...t.payload.content]})).addCase(S.rejected,(e=>{e.pending=!1,e.error=!0,e.results=h})).addCase(C.pending,(e=>{e.pending=!0})).addCase(C.fulfilled,((e,t)=>{e.pending=!1,e.results=[...t.payload.content]})).addCase(C.rejected,(e=>{e.pending=!1,e.error=!0}))}}),{closeSearch:k,openSearch:D,setSearchQuery:I,resetSearch:q,closeSearchIfOpen:x}=_.actions;(0,p.Zv)({matcher:(0,o.i0)(D,k,x),effect:(e,t)=>{const a=t.getState(),o=(0,i.Ie)(a),s=(0,n.K5)(a),r=e.type===D.type?"open":"close";(0,g.F)({category:"searchPanel",action:r,label:s,data:{searchSessionId:o},options:{interaction:!0}});const c="open"===r?"hidden":"auto";document.body.style.overflow=c}}),(0,p.Zv)({type:"@@router/LOCATION_CHANGE",effect:(e,t)=>{const a=t.getState().search;Date.now()-a.lastClosed<50||""!==a.query&&t.dispatch(I({query:""}))}});const L=_},21708:(e,t,a)=>{var o=a(5298),s=a(16536);let n=!0;(0,s.Zv)({type:"@@router/LOCATION_CHANGE",effect:async(e,{dispatch:t,unsubscribe:a})=>{n?n=!1:(t((0,o._n)({isLanding:!1})),a())}})},67278:(e,t,a)=>{a.d(t,{Ay:()=>D,Vy:()=>v,jO:()=>w,p5:()=>C,rY:()=>b,xI:()=>k});var o=a(20038),s=a(88800),n=a(53210),i=a(98708),r=a(25733),c=a(48554),d=a(34524),l=a(91323),g=a(5298),u=a(15203),p=a(16536),y=a(46278),f=a(82987),h=a(46493);const m=(0,o.Z0)({name:"ratings",initialState:{userVotes:{},previousUserVotes:{},feedbackGiven:{},ratingsData:{}},reducers:{vote:(e,t)=>{const{gameId:a,direction:o}=t.payload;e.previousUserVotes[a]=e.userVotes[a]||0,e.userVotes[a]=o,e.feedbackGiven[a]=!1},voteFeedbackGiven:(e,t)=>{e.feedbackGiven[t.payload.gameId]=!0},setRatingsData:(e,t)=>{e.ratingsData=t.payload.ratingsData},deleteVote:(e,t)=>{const{gameId:a}=t.payload;delete e.userVotes[a],delete e.previousUserVotes[a],delete e.feedbackGiven[a]}}}),{vote:v,voteFeedbackGiven:b,setRatingsData:w,deleteVote:S}=m.actions;function C(e,t){return e.ratings.userVotes[t]||0}function _(e,t){return e.ratings.previousUserVotes[t]||0}function k(e){return e.ratings.ratingsData}const D=m;(0,p.Zv)({actionCreator:v,effect:async(e,t)=>{const{gameId:a,direction:o,source:s}=e.payload,n=t.getState(),i=(0,g.K5)(n);if("mystery"!==i){if("game"===i&&a){(0,h.F)({category:"rating",action:s,data:{method:"click",previousVote:_(n,Number(a))}});try{await(0,y.Vy)("/vote",{method:"POST",body:JSON.stringify({game_id:a,vote:o})})}catch(e){console.error("Vote failed:",e)}}}else{const e=window.frames.gameFrame??null;e?.postMessage&&e.postMessage({type:"vote",direction:o},"*")}}});let I=0;(0,p.Zv)({actionCreator:b,effect:async(e,t)=>{const a=Date.now();if(a-I<6e4)return;I=a;const{voteDirection:o,message:s,screenshot:i,errors:u}=e.payload;if(!s)return;const p=t.getState(),h=(0,g.Vv)(p),m=(0,c.yd)(p),v=(0,l.Gd)(p),b=(0,n.p)(p),w=(0,d.nj)(p),S=(0,c.zM)(p),C=(0,c.pT)(p),_=(0,r.v)(),k=m.gameID===h.pokifordevs_game_id?m.gameVersion:void 0,D=_?.page?.start>0?Date.now()-_.page.start:0,q=document.getElementById("game-element"),x=q?`${q.clientWidth}x${q.clientHeight}`:void 0,L=(0,f.z)();try{await(0,y.E5)("/playground-feedback",{method:"POST",body:JSON.stringify({p4d_game_id:h.pokifordevs_game_id,p4d_version_id:k,type:1===o?"thumbs_up":"thumbs_down",site_id:v.id,message:s,screenshot:i,experiment:b,adblock:w,was_fullscreen:S,game_resolution:x,loading_finished:C,time_on_page:D,errors:u,webgl_renderer:L,device_pixel_ratio:window.devicePixelRatio||1})})}catch(e){console.error("Feedback submission failed:",e)}}}),(0,p.Zv)({actionCreator:v,effect:(e,t)=>{const{gameId:a,direction:o}=e.payload,n=t.getState();if(!function(e,t){const{userVotes:a,feedbackGiven:o}=e.ratings;return 0!==a[t]&&void 0!==o[t]&&!o[t]}(n,Number(a)))return;const r=(0,g.Vv)(n);if(!r?.id)return;const c=(0,i.K)(n),d=Date.now(),l=(1===o?c.whatdoyoulike:c.whatdontyoulike).replace("%title",`<strong>${r.title}?</strong>`);let u=null;const p={title:l,titleIcon:{svgName:1===o?"thumbsUp":"thumbsDown",width:24,height:24},id:d,childComponent:{name:"FeedbackNotification",props:{placeholder:c.enteryourtext,checkboxLabel:c.attach_screenshot,gameId:a,voteDirection:o,onComplete:()=>{t.dispatch((0,s.oe)({id:d})),t.dispatch((0,s.Gg)({notification:{title:c.thank_you,theme:"feedback",autoExpire:4e3}}))},onSubmit:e=>{u=e}}},clickOutsideToClose:!0,navigateToClose:!0,actions:[{title:c.send,onClick:()=>{u&&u()}}]};t.dispatch((0,s.Gg)({notification:p}))}}),(0,p.Zv)({actionCreator:u.ON,effect:(e,{dispatch:t})=>{t(S({gameId:0}))}})},88800:(e,t,a)=>{a.d(t,{Ay:()=>c,Gg:()=>s,hk:()=>r,oe:()=>i,ww:()=>n});const o=(0,a(20038).Z0)({name:"notifications",initialState:{stack:[],muted:[]},reducers:{setNotification:(e,t)=>{const{notification:a}=t.payload;a.id=a.id||Date.now(),a.isClosed=a.isClosed||!1,e.stack.push(a)},removeNotification:(e,t)=>{e.stack=e.stack.filter((e=>e.id!==t.payload.id))},setCloseNotification:(e,t)=>{const{id:a}=t.payload;e.stack=e.stack.map((t=>t.id===a?(t.muteAfterClose&&e.muted.push(a),{...t,isClosed:!0}):t))}}}),{setNotification:s,removeNotification:n,setCloseNotification:i}=o.actions,r=(e,t)=>e.notifications.muted.includes(t),c=o},97454:(e,t,a)=>{a.d(t,{Ay:()=>w,Lb:()=>v,Od:()=>b});var o=a(8120),s=a(20038),n=a(16536),i=a(822),r=a(46493),c=a(53490);let d=null;const l=e=>e.eastereggs.endpoint,g=(0,o.Mz)((e=>e.eastereggs.eggs),(e=>e.flatMap((e=>e.triggers.search.query.map((t=>[t,e])))).reduce(((e,[t,a])=>(e[t]=a,e)),{}))),u=(0,o.Mz)(g,((e,t)=>t),((e,t)=>e[t])),p=(0,s.zD)("eastereggs/fetchManifest",(async(e,{getState:t})=>{const a=l(t()),o=await fetch(`${a}/eggs.json`);return{eggs:await o.json()}})),y=(0,s.Z0)({name:"eastereggs",initialState:{customLogo:null,customFavicon:null,eggs:[],endpoint:"https://easter-eggs.poki-cdn.com"},reducers:{setCustomLogo:(e,t)=>{e.customLogo=t.payload},setCustomFavicon:(e,t)=>{e.customFavicon=t.payload},setEggEndpoint:(e,t)=>{e.endpoint=t.payload}},extraReducers:e=>{e.addCase(p.fulfilled,((e,t)=>{e.eggs=t.payload.eggs,d=new c.Y,d.prepare()}))}}),{setCustomLogo:f,setCustomFavicon:h,setEggEndpoint:m}=y.actions;(0,n.Zv)({type:i.rf.type,effect:(e,t)=>{t.dispatch(p())}}),(0,n.Zv)({type:i.Ri.type,effect:async(e,t)=>{const a=t.getState(),o=e.payload.query.toLowerCase(),s=u(a,o),n=l(a);if(void 0===s)return;const c=s.triggers?.search?.query?.[0]||o;(0,r.F)({category:"easteregg",action:"search",label:c,options:{interaction:!0},data:{query:o}});const g=`${n}/${s.entrypoint}`,p=await import(g);!1!==s.triggers.search.close&&t.dispatch((0,i.QL)()),await p.default({listenerApi:t,audioApi:d})}});const v=e=>e.eastereggs.customLogo,b=e=>e.eastereggs.customFavicon,w=y}}]);
//# sourceMappingURL=client~main-5958331f~8f916c2c4e7ce73d17ab.js.map