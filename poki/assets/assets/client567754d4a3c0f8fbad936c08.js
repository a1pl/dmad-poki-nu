try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1a133fee-db9d-46df-9ab2-7912f9966e08",e._sentryDebugIdIdentifier="sentry-dbid-1a133fee-db9d-46df-9ab2-7912f9966e08")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"2c82cb25a14a55e3572d801ec920e9674e6cbd36"};(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5677],{65677:(e,t,i)=>{i.r(t),i.d(t,{checkAutoRedirectEpic:()=>I,detectAdblockerEpic:()=>M,googleAnalyticsPrivacyEpic:()=>R,hideNotificationsOnNavigateEpic:()=>G,refreshCacheEpic$:()=>H,sendDeviceCapabilitiesEpic:()=>O,setViewportOrientationEpic:()=>L,showUserFeedbackEpic:()=>F});var n=i(29079),o=i(61701),a=i(9336),c=i(81160),r=i(44240),d=i(56978),p=i(16126),l=i(36173),s=i(62467),u=i(38975),f=i(63720),g=i(59099),h=i(8767),y=i(76981),w=i(28452),m=i(42891),b=i(88800),_=i(5298),v=i(7696),E=i(28685),A=i(98708),D=i(91323),N=i(15049),k=i(34524),T=i(46493),C=i(47196);function L(e){if("function"!=typeof window?.matchMedia)return o.w;const t=window.matchMedia("(orientation: portrait)"),i=(0,a.R)(window,"orientationchange").pipe((0,c.T)((()=>t.matches))),p=e.pipe((0,n.g)(m.Xy.type));return(0,r.h)(p,i).pipe((0,d.B)(100),(0,c.T)((()=>(0,m.nx)({orientation:t.matches?"portrait":"landscape"}))))}function I(e,t){if(!window?.location?.hash?.includes("#utm_source=redirect")||(0,D.DF)(t.value)===D.LJ.APP)return o.w;const i=e.pipe((0,n.g)(m.F8.type),(0,p.p)((()=>(0,m.Wv)(t.value)))),a=e.pipe((0,l.o)((()=>(0,N.VH)(t.value)?(0,s.of)(o.w):e.pipe((0,n.g)(v.rB.type)))),(0,u.s)(1));return e.pipe((0,n.g)(m.Xy.type),(0,u.s)(1),(0,f.n)((()=>(0,r.h)(i,a))),(0,g.M)((()=>{let e,i;const n=window.location.hash.replace("#utm_source=redirect-","")||"";window.location.hash="",5===n.length&&([e,i]=n.split("-"));const a=(0,_.nK)(t.value),c=a.find((t=>t?.href?.includes("poki.com/")&&t?.lang===e)),r=a.find((e=>e?.href?.includes("poki.com/")&&e?.lang===i));if(!c||!r)return o.w;const d=(0,A.K)(t.value),p=`${d.auto_redirect_title.replace("[language]",r.languageName)}`,l=d.auto_redirect_message.replace("[language]",c.languageName),s=d.auto_redirect_button?.replace("[language]",c.languageName);(0,T.F)({category:"page",action:"autoRedirectImpression",data:{from:c.languageName,to:r.languageName}}),window?.store?.dispatch((0,b.Gg)({notification:{title:p,titleIcon:{image:"https://a.poki-cdn.com/images/icon-world-v2.svg",width:22,height:22},childComponent:{name:"AutoRedirectNotification",props:{message:l,button:s,href:c?.href,lang:c?.lang}},autoExpire:1e4}}))})),(0,h.w)())}function R(e,t){return e.pipe((0,n.g)(m.Xy.type),(0,u.s)(1),(0,g.M)((()=>{const e=(0,_.FR)(t.value),i=`https://${(0,D.Gd)(t.value).domain}${e}`;console.info(`%cGoogle Analytics is blocked by Poki, refer to our privacy statement (${i})`,"background:rgb(0, 156, 255);color:#fff")})),(0,h.w)())}function O(e,t){const a=(0,N.hv)(t.value),c=(0,m.Rd)(t.value);return!a||c>.5?o.w:e.pipe((0,n.g)(_.yc.type),(0,u.s)(1),(0,y.c)(6e4),(0,g.M)((()=>{i.e(9913).then(i.bind(i,12294)).then((({default:e})=>{e()}))})),(0,h.w)())}function M(e){return e.pipe((0,n.g)(k.HH.type),(0,u.s)(1),(0,g.M)((()=>{i.e(273).then(i.bind(i,80273)).then((({default:e})=>{e()}))})),(0,h.w)())}function F(e,t){const i=C.DB,a="user-satisfaction",r=(0,m.Rd)(t.value),d=(0,b.hk)(t.value,a),s=(0,m.wu)(t.value),f=(0,D.Gd)(t.value),g=r<.05,h=i.includes(s),w=3===f.id;if(!h||!w||d||!g)return o.w;(0,T.F)({category:"pps",action:"trigger"});const v=e.pipe((0,n.g)(m.Xy.type),(0,u.s)(1),(0,y.c)(36e4)),E=e.pipe((0,n.g)(_.yc.type),(0,p.p)((()=>"game"!==(0,_.K5)(t.value))),(0,u.s)(1));return v.pipe((0,l.o)((()=>E)),(0,c.T)((()=>(0,b.Gg)({notification:{id:a,title:"Would you recommend Poki to your friends?",childComponent:{name:"UserSatisfaction",props:{notificationID:a}},muteAfterClose:!0}}))))}function G(e,t){return e.pipe((0,n.g)("@router/LOCATION_CHANGE"),(0,c.T)((()=>(0,E.L)(t.value))),(0,w.Z)((e=>e.filter((e=>e.navigateToClose)).map((e=>(0,b.oe)({id:e.id}))))))}function H(e){return e.pipe((0,n.g)(m.Xy.type),(0,u.s)(1),(0,y.c)(864e5),(0,f.n)((()=>e.pipe((0,n.g)(_.yc.type),(0,g.M)((()=>{window.location.reload()})),(0,h.w)()))))}}}]);
//# sourceMappingURL=client~5677~54d4a3c0f8fbad936c08.js.map