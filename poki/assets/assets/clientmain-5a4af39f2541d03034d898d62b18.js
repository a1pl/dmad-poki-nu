try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="17eb2c1c-92c4-4a61-b69d-5189b1d70841",e._sentryDebugIdIdentifier="sentry-dbid-17eb2c1c-92c4-4a61-b69d-5189b1d70841")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"2c82cb25a14a55e3572d801ec920e9674e6cbd36"};(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5454],{5298:(e,t,a)=>{a.d(t,{Ay:()=>O,Ee:()=>T,FR:()=>D,K5:()=>S,KO:()=>E,N2:()=>P,Qk:()=>w,Sk:()=>N,Ue:()=>C,Vv:()=>M,Xk:()=>_,_n:()=>k,mX:()=>b,nK:()=>B,yT:()=>G,yc:()=>h});var n=a(20038),o=a(8120),s=a(91323),i=a(61481),l=a(42891),r=a(98708),d=a(15049),c=a(53210),u=a(11436),g=a(43908),p=a(36774),m=a(40890),f=a(35190);const y={pokifordevs_team_id:void 0,developer:void 0},h=(0,n.VP)("pages/getPageDone"),b=(0,n.VP)("pages/not_found"),v=(0,n.Z0)({name:"pages",initialState:{currentPagePath:null,previousPagePath:null,isLanding:!0,pages:{}},reducers:{setIsLanding:(e,t)=>{e.isLanding=t.payload.isLanding}},extraReducers:e=>{e.addCase(h,((e,t)=>{const{path:a,pokifordevs_team_id:n,developer:o}=t.payload,s=e.pages&&e.pages[a]||y;e.pages={...e.pages,[a]:{...s,pokifordevs_team_id:n,developer:o}},e.previousPagePath=e.currentPagePath,e.currentPagePath=a}))}}),{setIsLanding:k}=v.actions;function w(e){return e.router.location.pathname}function _(e){return e.pages?.isLanding}const S=(0,o.Mz)(s.Gd,w,((e,t)=>(0,m.M5)(e,t)));function C(e){const{pages:t}=e,a=w(e),n=function(e){return e.pages?.previousPagePath||null}(e),o=t?.pages?.[a],s=n?t?.pages?.[n]:null;return o?.pokifordevs_team_id&&s?.pokifordevs_team_id?o.pokifordevs_team_id===s.pokifordevs_team_id:!(!o?.developer||!s?.developer)&&o.developer===s.developer}const A=e=>i.lh.endpoints.getGame.select({slug:(0,u.Ms)(e),site:(0,s.Gd)(e),device:(0,l.xp)(e),geo:(0,l.wu)(e),experiment:(0,c.p)(e),pageType:S(e),path:(0,u.k4)(e)})(e);function M(e){const t=S(e);if("game"!==t&&"preview"!==t&&"mystery"!==t)return{};const a=A(e);return"fulfilled"===a.status?a.data:{}}const P=e=>{if(!("category"===S(e)))return{};const t=(e=>i.lh.endpoints.getCategory.select({slug:(0,u.Ms)(e),site:(0,s.Gd)(e),device:(0,l.xp)(e),geo:(0,l.wu)(e),experiment:(0,c.p)(e)})(e))(e);return"fulfilled"===t.status?t.data:{}};function L(e){if(!("home"===S(e)))return{};const t=(e=>i.lh.endpoints.getHomepage.select({site:(0,s.Gd)(e),device:(0,l.xp)(e),geo:(0,l.wu)(e),experiment:(0,c.p)(e),trafficSource:(0,l.zO)(e)})(e))(e);return"fulfilled"===t.status?t.data:{}}const B=(0,o.Mz)(S,M,P,L,((e,t,a,n)=>{let o=[];return"game"===e&&"alternates"in t&&Array.isArray(t.alternates)&&(o=t.alternates),"category"===e&&"alternates"in a&&Array.isArray(a.alternates)&&(o=a.alternates),"home"===e&&"alternates"in n&&Array.isArray(n.alternates)&&(o=n.alternates),o.length>0?o.filter((({hrefLang:e})=>"x-default"!==e)).map((({href:e,hrefLang:t,lang:a,title:n})=>({href:e,hrefLang:t,title:n,lang:a,languageName:(0,g.sv)()[t]?.languageName}))).sort(((e,t)=>{const a=e.languageName||"",n=t.languageName||"";return a.localeCompare(n,"en")})):[]})),D=(0,o.Mz)(s.Gd,(e=>(0,m.AO)(e,"privacy",""))),E=((0,o.Mz)(s.Gd,l.wu,((e,t)=>(0,m.AO)(e,"content",(p._k.includes(t)?"":"global-")+"cookie-statement"))),(0,o.Mz)(s.Gd,(e=>(0,m.AO)(e,"content","contact")))),T=(0,o.Mz)((()=>null),(()=>[{label:"TikTok",ariaLabel:"Poki TikTok",url:"https://www.tiktok.com/@poki_games",iconClass:"tiktok"},{label:"Instagram",ariaLabel:"Poki Instagram",url:"https://www.instagram.com/poki__games",iconClass:"instagram"},{label:"YouTube",ariaLabel:"Poki YouTube",url:"https://www.youtube.com/@Poki",iconClass:"youtube"}])),G=(0,o.Mz)(s.Gd,r.K,E,d.lb,l.wu,l.oJ,((e,t,a,n,o,s)=>({getToKnowUs:[{label:t.about,url:"https://about.poki.com",external:!0},{label:t.developers,url:"https://developers.poki.com",external:!0},n?null:{label:t.poki_kids,url:"https://kids.poki.com",external:!0},{label:t.jobs,url:"https://jobs.poki.com",external:!0}].filter(Boolean),privacyAndTerms:[{label:t.privacy_center,url:(0,m.AO)(e,"privacy","")},"CA"===o?{label:`${t.cookie_settings}`,url:(0,m.AO)(e,"privacy","")}:null,p._k.includes(o)&&!n?{type:"button",label:t.cookie,action:f.es.OPEN_CMP,ariaLabel:t.cookie}:null,s?{type:"button",label:"Do Not Sell My Data",action:f.es.OPEN_CCPA,ariaLabel:"Do Not Sell My Data"}:null,"GB"===o?{type:"button",label:t.cookie,action:f.es.OPEN_GB_CONSENT,ariaLabel:t.cookie}:null].filter(Boolean),helpAndSupport:[{label:t.faq,url:(0,m.AO)(e,"content","faq")},{label:t.nav_contact,url:a}].filter(Boolean)})));function N(e){const t=i.lh.endpoints.getImvitaConfigs.select({})(e);return"fulfilled"===t.status?t.data:{}}const O=v},15203:(e,t,a)=>{a.d(t,{Ay:()=>p,Bi:()=>u,ON:()=>f,QZ:()=>c,ht:()=>g});var n=a(20038),o=a(42891),s=a(61481),i=a(5298),l=a(11436),r=a(16536);const d=(0,n.Z0)({name:"mystery",initialState:{game:null,games:[],triggered:!1,canBeShown:!1},reducers:{setMysteryGames:(e,t)=>{e.games=t.payload.games,e.triggered=!1},setCanBeShown:(e,t)=>{e.canBeShown=t.payload.canBeShown,e.game=t.payload.game},clickMysteryGame:e=>{e.game=null,e.games=[],e.triggered=!0,e.canBeShown=!1}}}),c=e=>e.mystery.game,u=e=>e.mystery.triggered,g=e=>e.mystery.canBeShown,p=d,{setMysteryGames:m,clickMysteryGame:f,setCanBeShown:y}=d.actions;let h=!1;"undefined"!=typeof window&&((0,r.Zv)({actionCreator:o.Xy,effect:async(e,{getState:t,dispatch:a,unsubscribe:n,condition:s})=>{const i=t(),r=(0,o.wu)(i),d=(0,o.xp)(i),c=(0,l.fn)(i),u=function(e,t){return"true"===new URLSearchParams(t).get("force_mystery")||!["GB","NL","CA"].includes(e)&&((!navigator?.connection?.effectiveType||"4g"===navigator?.connection?.effectiveType)&&(!(navigator?.hardwareConcurrency<8)&&!!document.createElement("canvas").getContext("webgl2",{failIfMajorPerformanceCaveat:!0})))}(r,c);if(h=u,n(),h){const e=async()=>{try{const e=await fetch(`https://mystery-game-tile.poki.io/v0/mystery-game?device=${d}&geo=${r}`),t=(await e.json()).filter((e=>{const{device_category:t}=e;return t===d||"any"===t}));if(0===t.length)return void a(m({games:[]}));const n=t.map((e=>{const t=btoa(`${e.path}/${e.orientation||"both"}`);return{...e,path:t}}));a(m({games:n}))}catch(e){}};"function"==typeof requestIdleCallback?requestIdleCallback(e,{timeout:1e4}):e();const t=setInterval(e,3e5);await s(f.match),clearInterval(t)}}}),(0,r.Zv)({matcher:(0,n.i0)(s.lh.endpoints.getGame.matchFulfilled,s.lh.endpoints.getCategory.matchFulfilled,s.lh.endpoints.getHomepage.matchFulfilled),effect:(e,{getState:t,dispatch:a,unsubscribe:n})=>{const o=t();if(!h)return void n();const s=(e=>e.mystery.games)(o);if(s.length>0){const e=(0,i.K5)(o),t=(0,i.Vv)(o),n=(0,i.N2)(o),l=(0,i.Qk)(o);if("category"===e&&0===n.games.length)return void a(y({canBeShown:!1,game:null}));const r=s.filter((a=>{const{categories:o=[]}=a;return 0===o.length||("game"===e?t.categories.some((({id:e})=>o.includes(e))):"category"===e&&o.includes(n.id))}));if(0===r.length)return void a(y({canBeShown:!1,game:null}));let d=0;for(let e=0;e<l.length;e++)d+=l.charCodeAt(e);a(y({canBeShown:!0,game:r[d%r.length]}))}}}))},79906:(e,t,a)=>{a.d(t,{Ay:()=>g,BE:()=>u,QC:()=>d,dp:()=>s,g8:()=>c,mi:()=>r,q3:()=>i});var n=a(20038);const o=31536e7,s=e=>e.modals.stack,i=(e,t)=>t in e.modals.muted,l=(0,n.Z0)({name:"modals",initialState:{stack:[],muted:{}},reducers:{setModal:(e,t)=>{const{modal:a}=t.payload;a.id=a.id||Date.now(),((e,t)=>{const a=e.modals.muted[t];return!!a&&a>Date.now()})({modals:e},a.id)||e.stack.push(a)},removeModal:(e,t)=>{e.stack=e.stack.filter((e=>e.id!==t.payload.id))},muteModal:(e,t)=>{const{id:a,muteExpirationTime:n}=t.payload;e.muted[a]=Date.now()+(n||o)},setCloseModal:(e,t)=>{const{id:a}=t.payload;e.stack=e.stack.map((t=>t.id===a?(t.muteAfterClose&&(e.muted[a]=Date.now()+(t.muteExpirationTime||o)),{...t,isClosed:!0}):t))}}}),{setModal:r,removeModal:d,setCloseModal:c,muteModal:u}=l.actions,g=l},91323:(e,t,a)=>{a.d(t,{Ay:()=>h,DF:()=>f,Gd:()=>p,LJ:()=>i,n:()=>m});var n=a(20038),o=a(8120),s=a(40890);const i={WEB:"web",APP:"app"},l={mode:i.WEB},r=(0,n.Z0)({name:"site",initialState:l,reducers:{setSite:(e,t)=>{e.site=t.payload.site},setSitesForClient:(e,t)=>{e.sites=t.payload.sites},setLocalisations:(e,t)=>{e.localisations=t.payload.localisations},setSiteMode:(e,t)=>{e.mode=t.payload.mode}}}),{setSite:d,setSitesForClient:c,setLocalisations:u,setSiteMode:g}=r.actions,p=e=>e.site.site,m=e=>e.site.sites,f=e=>e.site.mode,y=((0,o.Mz)(p,(({paths:e})=>({...s.KJ,...e}))),["ar","he"]),h=((0,o.Mz)(p,(({iso_lang:e})=>y.includes(e))),r)}}]);
//# sourceMappingURL=client~main-5a4af39f~2541d03034d898d62b18.js.map